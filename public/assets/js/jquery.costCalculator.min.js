!function(a){"use strict";var t={formula:{},currency:"$",currencyPosition:"before",thousandthSeparator:",",decimalSeparator:".",updateHidden:""},e={init:function(e){return this.each(function(){e=a.extend(!1,t,e),a(this).data("cost-calculator-options",e),a(this).costCalculator("calculate")})},calculate:function(t){return this.each(function(){var e,r=(t=a(this).data("cost-calculator-options")).formula.split("+"),c=0,o=1;for(var n in r)if((e=r[n].split("*")).length>1){o=1;for(var i in e)o*=isNaN(a("#"+e[i]).val())?isNaN(e[i])?0:e[i]:a("#"+e[i]).val();c+=o}else c+=isNaN(parseFloat(a("#"+r[n]).val()))?isNaN(parseFloat(r[n]))?0:parseFloat(r[n]):parseFloat(a("#"+r[n]).val());var s=new RegExp("\\d(?=(\\d{3})+\\"+t.decimalSeparator+")","g");a(this).html(("before"==t.currencyPosition?'<span class="currency">'+t.currency+"</span>":"")+c.toFixed(2).replace(".",t.decimalSeparator).replace(s,"$&"+t.thousandthSeparator)+("after"==t.currencyPosition?'<span class="currency">'+t.currency+"</span>":"")),"object"==jQuery.type(t.updateHidden)&&t.updateHidden.val(t.currency+c.toFixed(2).replace(".",t.decimalSeparator).replace(s,"$&"+t.thousandthSeparator))})}};jQuery.fn.costCalculator=function(a){return e[a]?e[a].apply(this,arguments):"object"!=typeof a&&a?void 0:e.init.apply(this,arguments)}}(jQuery);